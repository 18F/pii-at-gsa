---
permalink: /fedreg/
layout: wide
title: Federal Register
---
<script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>

<script>
  $(document).ready( function () {
    $('#general-search-button').click(function(e){
      $('#results').empty()
      searchTerm = $('#general-search').val()
      console.log(searchTerm)

      var url = 'https://www.federalregister.gov/api/v1'
      var term = 'conditions[term]=' + encodeURIComponent('Privacy Act of 1974, ') + encodeURIComponent(searchTerm)
      var fields = 'fields[]=title&fields[]=html_url&fields[]=excerpts'
      var agencies = 'conditions[agencies]=general-services-administration'
      var type = 'conditions[type]=NOTICE'
      var pages = 'per_page=10'
      var page = 'page=1'
      var order = 'order=newest'
      var type = 'type[]=NOTICE'

      var request = url
        + '/documents.json'
        + '?' + term
        + '&' + fields
        + '&' + agencies
        + '&' + pages
        + '&' + page
        + '&' + order
        + '&' + type

      console.log(request)

      $.getJSON(request, function(response){
        console.log(response)

        response.results.forEach(
          // result => getSORN(result)
          result => cardResult(result)
        )
      })
    })

    // function getSORN(result) {
    //   console.log(result)
    //   // console.log(result.full_text_xml_url)
    //   $.get(result.full_text_xml_url, function(text){
    //     console.log(text)
    //   })
    // }



    function cardResult(result) {

      html = `<h1>${result.title}</h1>`
      html = html + `<p>${result.html_url}</p>`
      html = html + `<p>${result.excerpts}</p>`
      $('#results').append(html)
    }
  });
</script>

<main class="usa-layout-docs__main desktop:grid-col-9 usa-prose usa-layout-docs" id="main-content">
  <div class="grid-row margin-top-2 margin-right-0">
    <div class="margin-left-2 grid-col-6">
      <form class="usa-search" role="search" onsubmit="return false">
        <input class="usa-input" id="general-search" type="search" name="search">
        <button id="general-search-button" class="usa-button" type="submit">
            <span class="usa-search__submit-text">Search</span>
        </button>
      </form>
    </div>
  </div>

  <div class="grid-row margin-top-2 margin-right-0">
    <div id="results">
    </div>
  </div>

  <!-- <div class="grid-row margin-top-2 margin-right-0">
    <div id="results">
      <div class="card card--sorn padding-2 margin-top-2 margin-right-0">
        <div class="grid-row margin-bottom-105">
          <h2 class="system card__h2 card__h2--sorn">{{ row['System Name'] }}
          </h2>
        </div>

        <div class="grid-row margin-bottom-105">
          <div class="grid-col-2">
            <span class="card__label">Type:</span>
          </div>
          <div class="type grid-col-10">
            {{ row['Type'] }}
          </div>
        </div>
        <div class="grid-row margin-bottom-105">
          <div class="grid-col-2">
            <span class="card__label">SORN ID:</span>
          </div>
          <div class="sorn-id grid-col-10">
            {{ row['SORN ID']}}
          </div>
        </div>
        <div class="grid-row margin-bottom-105">
          <div class="tablet:grid-col-2">
            <span class="card__label">Authority:</span>
          </div>
          <div class="authority tablet:grid-col-10">
            <span>{{ row['Authority']}}</span>
          </div>
        </div>

        <div class="grid-row margin-bottom-105">
          <div class="tablet:grid-col-2">
            <span class="card__label">Categories of&nbsp;Record:</span>
          </div>
          <div class="tablet:grid-col-10">
            <ul class="pii">
              {% assign pii = row['PII'] | split: "," | sort_natural %}
              {% for i in pii %}
                <li><span>{{i}}</span></li>
              {% endfor %}
            </ul>
          </div>
        </div>


        <a href="{{ row['URL'] }}" target="_blank" class="usa-link usa-link--external">Source</a>

      </div>
    </div>
  </div> -->
</main>
